#
# fzf profile
#
# - $FZF_DEFAULT_OPTS

# - $FZF_CTRL_T_OPTS
# - $FZF_CTRL_R_OPTS
# - $FZF_ALT_C_COMMAND
# - $FZF_ALT_C_OPTS
# - $FZF_CTRL_R_OPTS

# topklean options
# source bash integration (replace with yours, zsh, fish)
[[ ! -f ~/.config/fzf/.fzfrc ]] && return 1

source ~/.config/fzf/.fzfrc

# options befavior (case, extend searhc, etc.)
# ignore case
export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS" -i"
# no extend search
# export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS" +x"

# bindings / motion
export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS" --bind='alt-i:up,alt-k:down,alt-j:backward-char,alt-l:forward-char,ctrl-alt-j:backward-word,ctrl-alt-l:forward-word'"
# kill
export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS" --bind='ctrl-alt-k:kill-line,alt-u:backward-kill-word,alt-o:kill-word'"

# style

# colors
fzf_fg_color="c9d0d0"
fzf_bg_color="252525"
fzf_fg_plus_color="cccccc"
fzf_bg_plus_color="313939"
fzf_hl_color="00aaa2"
fzf_hl_plus_color="23aaa2"
fzf_border_color="618989"
fzf_marker_color="09c797"
fzf_label_color="88cfcf"

export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS' --color=fg:#'$fzf_fg_color
export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS' --color=fg+:#'$fzf_fg_plus_color
export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS' --color=bg:#'$fzf_bg_color
export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS' --color=bg+:#'$fzf_bg_plus_color
export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS' --color=hl:#'$fzf_hl_color
export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS' --color=hl+:#'$fzf_hl_plus_color
export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS' --color=info:#afaf87'
export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS' --color=marker:#'$fzf_marker_color
export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS' --color=prompt:#09d7a7'
export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS' --color=spinner:#af5fff'
export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS' --color=pointer:#09d7a7'
export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS' --color=header:#87afaf'
export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS' --color=border:#'$fzf_border_color
export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS' --color=label:#'$fzf_label_color
export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS' --color=query:#d9d9d9'

#
fzf_prompt="$ "
fzf_pointer="►"
fzf_marker="+"
fzf_separator="─"
fzf_scrollbar="│"
fzf_ghost="search..."

# default - apply globaly.
export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS" --ghost=$fzf_ghost"
export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS" --height=-20%"
export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS" --min-height=20"
export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS" --reverse"
export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS" --border=rounded"
# export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS" --border-label="
export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS" --margin=1,2"
export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS" --cycle"
export FZF_DEFAULT_OPTS=$FZF_DEFAULT_OPTS' --pointer="'$fzf_pointer'"'


# File search
# themings and style
# add label
fzf_file_label="File Search"
fzf_file_prompt="$ "
fzf_file_pointer=$fzf_pointer
fzf_file_marker=' ✓'  # ✓
fzf_file_separator="─"
fzf_file_scrollbar="│"

export FZF_CTRL_T_OPTS=$FZF_CTRL_T_OPTS' --style full'
export FZF_CTRL_T_OPTS=$FZF_CTRL_T_OPTS' --info="right"'
export FZF_CTRL_T_OPTS=$FZF_CTRL_T_OPTS' --border-label=" '$fzf_file_label' "'
export FZF_CTRL_T_OPTS=$FZF_CTRL_T_OPTS' --prompt="'$fzf_file_prompt'"'
export FZF_CTRL_T_OPTS=$FZF_CTRL_T_OPTS' --pointer="'$fzf_file_pointer'"'
export FZF_CTRL_T_OPTS=$FZF_CTRL_T_OPTS' --marker="'$fzf_file_marker'"'
export FZF_CTRL_T_OPTS=$FZF_CTRL_T_OPTS' --separator="'$fzf_file_separator'"'
export FZF_CTRL_T_OPTS=$FZF_CTRL_T_OPTS' --walker="file,dir,hidden,follow"'

# export FZF_CTRL_T_OPTS=$FZF_CTRL_T_OPTS' --style full --prompt="$ " --marker="+" --pointer="►" --separator="─" -scrollbar="│" --info="right"'

# add file info
export FZF_CTRL_T_OPTS=$FZF_CTRL_T_OPTS' --bind focus:transform-header:"file -b {}"' 

# preview window in file search
# use bat, num line, at rigth, if less then 50 cols, at bottom
export FZF_CTRL_T_OPTS=$FZF_CTRL_T_OPTS' --ansi --preview="bat --color=always -n {}"'
export FZF_CTRL_T_OPTS=$FZF_CTRL_T_OPTS' --preview-window="hidden,right,<50(down,40%)"'
# toggle preview
export FZF_CTRL_T_OPTS=$FZF_CTRL_T_OPTS' --bind "ctrl-p:toggle-preview"'


# cd
fzf_cd_label="cd"
#fzf_history_ghost="search command..."
fzf_cd_marker=$fzf_marker
fzf_cd_pointer=$fzf_pointer

export FZF_ALT_C_OPTS=$FZF_DEFAULT_OPTS
export FZF_ALT_C_OPTS=$FZF_ALT_C_OPTS' --style minimal'
export FZF_ALT_C_OPTS=$FZF_ALT_C_OPTS' --border-label=" '$fzf_cd_label' "'
export FZF_ALT_C_OPTS=$FZF_ALT_C_OPTS' --ghost="'${fzf_cd_ghost:-$fzf_ghost}'"'
export FZF_ALT_C_OPTS=$FZF_ALT_C_OPTS' --prompt="$ "'
export FZF_ALT_C_OPTS=$FZF_ALT_C_OPTS' --marker="'$fzf_cd_marker'"'
export FZF_ALT_C_OPTS=$FZF_ALT_C_OPTS' --pointer="'$fzf_cd_pointer'"'
export FZF_ALT_C_OPTS=$FZF_ALT_C_OPTS' --separator="─"'
export FZF_ALT_C_OPTS=$FZF_ALT_C_OPTS' --info="inline-right"'

# preview window in file search
export FZF_ALT_C_OPTS=$FZF_ALT_C_OPTS' --ansi --preview="tree -aC {}"'
export FZF_ALT_C_OPTS=$FZF_ALT_C_OPTS' --preview-window="hidden,right,<50(down,40%)"'
# toggle
export FZF_ALT_C_OPTS=$FZF_ALT_C_OPTS' --bind "ctrl-p:toggle-preview,ctrl-p:+change-border-label()"'

# history
fzf_history_label="history"
#fzf_history_ghost="search command..."
fzf_history_marker=$fzf_marker
fzf_history_pointer=$fzf_pointer

export FZF_CTRL_R_OPTS=$FZF_DEFAULT_OPTS
export FZF_CTRL_R_OPTS=$FZF_CTRL_R_OPTS' --style minimal'
export FZF_CTRL_R_OPTS=$FZF_CTRL_R_OPTS' --border-label=" '$fzf_history_label' "'
export FZF_CTRL_R_OPTS=$FZF_CTRL_R_OPTS' --ghost="'${fzf_history_ghost:-$fzf_ghost}'"'
export FZF_CTRL_R_OPTS=$FZF_CTRL_R_OPTS' --prompt="$ "'
export FZF_CTRL_R_OPTS=$FZF_CTRL_R_OPTS' --marker="'$fzf_history_marker'"'
export FZF_CTRL_R_OPTS=$FZF_CTRL_R_OPTS' --pointer="'$fzf_history_pointer'"'
export FZF_CTRL_R_OPTS=$FZF_CTRL_R_OPTS' --separator="─"'
export FZF_CTRL_R_OPTS=$FZF_CTRL_R_OPTS' --info="inline-right"'
